#!/bin/sh

ethstatus="$(cat /sys/class/net/enp9s0/operstate)"
wifistatus="$(cat /sys/class/net/wlp7s0/operstate)"
wifissid="$(nmcli -t -f NAME connection show --active)"
wifiperc="$(grep "^\s*w" /proc/net/wireless | awk '{ print int($3 * 100 / 70) "%" }')"

if [ $ethstatus = "up" ]; then
    netstatus="^c#B48EAD^ ^d^Ether"
elif [ $wifistatus = "up" ]; then
    wifiname="$(nmcli -t -f ssid dev wifi)"
    netstatus="^c#B48EAD^直 ^d^ $wifiname  $wifiperc"
else
    netstatus="^c#B48EAD^睊 ^d^Down"
fi

printf "%s\n" "$netstatus"
